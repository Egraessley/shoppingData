<div class="modal-header">
  <h4 class="modal-title pull-left" i18n="@@workTypeHeading">{{title}} User</h4>
  <button type="button" class="close pull-right" aria-label="Close" (click)="bsModalRef.hide()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <form [formGroup]="form">
    <div class="form-group">
      <label for="name" class="control-label">First Name</label>
      <input type="text" id="firtName" class="form-control" formControlName="firstName" maxlength="140">
      <div ngxErrors="firstName">
        <div ngxError="required" [when]="['dirty', 'touched']">
          <span class="validation-error-message">First Name is required</span>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="lastName" class="control-label">Last Name</label>
      <input type="text" id="lastName" class="form-control" formControlName="lastName" maxlength="140">
      <div ngxErrors="lastName">
        <div ngxError="required" [when]="['dirty', 'touched']">
          <span class="validation-error-message">Last Name is required</span>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="email" class="control-label">E-Mail</label>
      <input type="text" id="email" class="form-control" formControlName="email" maxlength="140">
      <div ngxErrors="email">
        <div ngxError="required" [when]="['dirty', 'touched']">
          <span class="validation-error-message">Email is required</span>
        </div>
        <div ngxError="inUse" [when]="['dirty', 'touched']">
          <span class="validation-error-message">Email is already being used</span>
        </div>
      </div>
    </div>
    <div *ngIf="!exists" class="form-group">
      <label for="userName" class="control-label">UserName</label>
      <input type="text" id="userName" class="form-control" formControlName="userName" maxlength="140">
      <div ngxErrors="userName">
        <div ngxError="required" [when]="['dirty', 'touched']">
          <span class="validation-error-message">userName is required</span>
        </div>
        <div ngxError="inUse" [when]="['dirty', 'touched']">
          <span class="validation-error-message">userName is already being used</span>
        </div>
      </div>
    </div>
    <div *ngIf="!exists" class="form-group">
      <label for="password" class="control-label">Password</label>
      <input type="password" id="password" class="form-control" formControlName="password" maxlength="140">
      <div ngxErrors="password">
        <div ngxError="required" [when]="['dirty', 'touched']">
          <span class="validation-error-message">Password is required</span>
        </div>
        <div ngxError="tooShort" [when]="['dirty', 'touched']">
          <span class="validation-error-message">Password must be at least 8 characters long</span>
        </div>
        <div ngxError="weakPassword" [when]="['dirty', 'touched']">
          <span class="validation-error-message">password must contain at least 1 uppercase, 1 lowercase, and 1
            number</span>
        </div>
      </div>
    </div>
    <div *ngIf="!exists" class="form-group">
      <label for="confirmPassword" class="control-label">Confirm Password</label>
      <input type="password" id="confirmPassword" class="form-control" formControlName="confirmPassword"
        maxlength="140">
      <div ngxErrors="confirmPassword">
        <div ngxError="unMatching" [when]="['dirty', 'touched']">
          <span class="validation-error-message">Passwords do not match</span>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="isAdmin" class="control-label">Admin</label><br>
      <input type="checkbox" id="isAdmin" formControlName="isAdmin" maxlength="140">
    </div>
  </form>
  <div class="modal-footer">
    <button type="button" [disabled]="form.invalid" class="button" (click)="onSave()" *ngIf="!exists"
      i18n="@@createButton">Create</button>
    <button type="button" [disabled]="form.invalid" class="button" (click)="onSave()" *ngIf="exists"
      i18n="@@updateButton">Update</button>
    <button type="button" class="button-gray" (click)="bsModalRef.hide()" i18n="@@cancelButton">Cancel</button>
  </div>